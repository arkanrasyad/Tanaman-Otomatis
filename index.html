<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Kontrol Tanaman Pintar</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <!-- Firebase SDK -->
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-database.js"></script>
</head>
<body class="bg-gray-900 text-white flex items-center justify-center min-h-screen">

  <div class="text-center">
    <h1 class="text-3xl font-bold mb-6">Dashboard Tanaman Pintar</h1>

    <div class="space-y-4">
      <div>
        <p class="text-lg mb-2">Pompa</p>
        <button onclick="setDevice('pompa', true)" class="bg-green-600 px-4 py-2 rounded">ON</button>
        <button onclick="setDevice('pompa', false)" class="bg-red-600 px-4 py-2 rounded">OFF</button>
      </div>

      <div>
        <p class="text-lg mb-2">LED</p>
        <button onclick="setDevice('led', true)" class="bg-green-600 px-4 py-2 rounded">ON</button>
        <button onclick="setDevice('led', false)" class="bg-red-600 px-4 py-2 rounded">OFF</button>
      </div>
    </div>
  </div>

  <script>
    // Konfigurasi Firebase
    const firebaseConfig = {
      apiKey: "AIzaSyCHqr43PAFa1nTqn2YvTs0s_aBZqXZ-TdM",
      authDomain: "tanaman-pintar.firebaseapp.com",
      databaseURL: "https://tanaman-pintar-default-rtdb.firebaseio.com",
      projectId: "tanaman-pintar",
      storageBucket: "tanaman-pintar.appspot.com",
      messagingSenderId: "32377243879",
      appId: "1:32377243879:web:7f8f3d29cb4433f2fb7a42"
    };

    // Inisialisasi Firebase
    const app = firebase.initializeApp(firebaseConfig);
    const db = firebase.database();

    // Fungsi kirim status ke Firebase
    function setDevice(device, status) {
      firebase.database().ref("tanaman1/" + device).set(status)
        .then(() => console.log(device + " set to " + status))
        .catch((err) => console.error("Error: ", err));
    }
  </script>

</body>
</html>
